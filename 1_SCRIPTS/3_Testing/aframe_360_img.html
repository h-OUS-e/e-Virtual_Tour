<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>360 Image in A-Frame</title>
    <!-- <link rel="colors" href="colorPalette.css"> -->
    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- IMPORTS -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="mediaPlayer.js"></script>
    <script src="transitionNodes.js"></script>
    <script src="zoomControl.js"></script> 
    <script type="module" src="mouseInteractionEvents.js"></script> 
    <script src="minimap.js"></script>
    <script src="mediaPopup.js"></script>
    
</head>
<body>
    <div id="minimap_container" >
        <!-- Minimap nodes -->
        <!-- change dataview to ID -->
        <div id= "minimap_node_background_img01.1" class="minimapNode" src="0_resources/img1.1_lobby.jpeg" initial="True" style="left: 165px; top: 130px;"></div>
        <div id= "minimap_node_background_img02.1" class="minimapNode" src="0_resources/img1.2_lobby.jpeg" initial="False" style="left: 165px; top: 40px;"></div>
        <div id= "minimap_node_background_img03.1" class="minimapNode" src="0_resources/img3_dentalRoom2.jpeg" initial="False" style="left: 65px; top: 60px;"></div>
        <div id= "minimap_node_background_img01.2" class="minimapNode" src="0_resources/img2_dentalRoom1.jpeg" initial="False" style="left: 25px; top: 35px;"></div>
        <!-- add js for nodes -->
    </div>

    <div id="display_container">
        <!-- Minimap nodes -->
        <!-- change dataview to ID -->
        <div id= "media_container" class="minimapNode" src="0_resources/img1.1_lobby.jpeg" visible="false" style="left: 165px; top: 130px;"></div>
        <div id= "text_container" class="minimapNode" src="0_resources/img1.1_lobby.jpeg" visible="false" style="left: 165px; top: 130px;"></div>
        <!-- <img id="popupImage" src="none" alt="Popup Image"> -->
    <!-- <button onclick="document.getElementById('popup').style.display='none'">Close</button> -->
        <!-- add js for nodes -->
    </div>

    <div class="overlay" id="overlay"></div>
    <div id="popup" class="popup" style="display:none;">
        <div class="popup-header">
          <span class="popup-title">Your Title Here</span>
          <button class="popup-close-button">&times;</button>
        </div>
        <div class="popup-body">
          <p>Your content goes here...</p>
          <!-- Add images, text, or whatever content you want in the popup -->
          <img id="popupImage" src="" alt="Popup Image">
        </div>
        <div class="popup-footer">
          <button class="popup-action-button">Action Button</button>
        </div>
      </div>
      
    
    
    <a-scene id="scene">

        <a-assets>
            <!-- Can we load on the go instead of waiting for website to load? -->
            <img id="background_img01.1" src="0_resources/img1.1_lobby.jpeg" background_img_id="01.1"> 
            <img id="background_img01.2" src="0_resources/img1.2_lobby.jpeg" background_img_id="01.2">
            <img id="background_img02.1" src="0_resources/img2_dentalRoom1.jpeg" background_img_id="03.1">
            <img id="background_img03.1" src="0_resources/img3_dentalRoom2.jpeg" background_img_id="04.1">
            <img id="img03.1" src="0_resources/test.png" background_img_id="03.1">

        </a-assets>

        <a-camera id="camera" raycaster wasd-controls="enabled: false">
            <a-cursor fuse="false"></a-cursor>
        </a-camera>

        <!-- Loading in 360 image. -->
        <a-sky id="sky" src="#background_img01.1" background_img_id="01.1">            
        </a-sky>
        
        <!-- Creating planes to play a video or show an image -->
        <a-plane id="mediaPlayer1" class="mediaPlayer" clickable="true" visible="true" visible_on_load="true"
        background_img_id = "01.1"
        targets="media1.1"
        position="2.836 -6.687 53.458" rotation="0 150.000 0" width="5" height="3" 
        color="#4CC3D9" material="opacity: 0.7; "
        attachement="img03.1"
        src=""
        ></a-plane>

        <!-- Placeholders for the image or video that will be shown when the plane is clicked -->
        <a-image id="media1.1" class="popup_image" clickable="true" visible="false" visible_on_load="false"
        position="2.836 -6.687 53.458" rotation="0 150.000 0" width="30" height="18"
        background_img_id = "03.1"
        media_src="mediaPlayer1"
        src="0_resources/00000-cam0.jpg" 
        ></a-image>

        <a-image id="media1.2" class="popup_image" clickable="true" visible="false" visible_on_load="false"
        position="-9 -2.298 19.005" rotation="0 150.000 0" width="30" height="18"
        background_img_id = "03.1"
        media_src="mediaPlayer1"
        src="0_resources/00000-cam1.jpg" 
        ></a-image>
        <!-- <a-video id="popup_video" 
            src="0_resources/test_vid.mp4" position="-10 -6.298 19.005" rotation="0 150.000 0" width="5" height="3" visible="false">
        </a-video> -->

        <!-- Creating some buttons to move between 360 images. -->
        <a-entity id="move_01.1_01.2"  class="transitionNode" clickable="true" visible="true" visible_on_load="true" 
            background_img_id="01.1" new_background_img_id= "01.2"
            position="2.433 -2.43037 -4.540" rotation="90 0 0" scale=".6 .6 .6"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: .5"  
            material="color:gray; side:double"
        ></a-entity>       
        <!-- Return. -->
        <a-entity id="move_01.2_01.1"  class="transitionNode" clickable="true" visible="false" visible_on_load="true" 
            background_img_id="01.2" new_background_img_id= "01.1"
            position="2.433 -.43037 -4.540" rotation="90 0 0" scale=".6 .6 .6"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: .5"  
            material="color:gray; side:double"
        ></a-entity>
        

        <a-entity id="move_01.2_02.1"  class="transitionNode" clickable="true" visible="false" visible_on_load="true" 
            background_img_id="01.2" new_background_img_id = "02.1"
            position="2.837 -0.682 .8" rotation="-90 0 0" scale=".35 .35 .35"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: .5" 
            material="color: gray; side:double"           
        ></a-entity>
        <!-- Return. -->
        <a-entity id="move_02.1_01.2"  class="transitionNode" clickable="true" visible="false" visible_on_load="true" 
            background_img_id="02.1" new_background_img_id= "01.2"
            position="2.433 -1.43037 -4.540" rotation="90 0 0" scale=".6 .6 .6"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: .5"  
            material="color:gray; side:double"
        ></a-entity>

        <a-entity id="move_01.2_03.1"  class="transitionNode" clickable="true" visible="false" visible_on_load="true" 
            background_img_id="01.2" new_background_img_id = "03.1"
            position="0.516 -1.682 -2.849" rotation="-90 0 0" scale=".35 .35 .35"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: .5" 
            material="color: gray; side:double"           
        ></a-entity>
        <!-- Return. -->
        <a-entity id="move_03.1_01.2"  class="transitionNode" clickable="true" visible="false" visible_on_load="true" 
            background_img_id="03.1" new_background_img_id= "01.2"
            position="2.433 -3.43037 -4.540" rotation="90 0 0" scale=".6 .6 .6"
            geometry="primitive: ring; radiusInner: 0.02; radiusOuter: .5"  
            material="color:gray; side:double"
        ></a-entity>


        
    </a-scene>
    
</body>

</html>

